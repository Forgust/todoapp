{"ast":null,"code":"var _jsxFileName = \"D:\\\\projects\\\\1.2.12app.github.io\\\\src\\\\component\\\\task\\\\task.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { formatDistanceToNow } from 'date-fns';\nimport PropTypes from 'prop-types';\nimport KG from 'date-fns/locale/en-AU';\nimport './task.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Task({\n  onDeleted,\n  onToggleCompleted,\n  onToggleEditing,\n  completed,\n  editing,\n  date,\n  visible,\n  label,\n  timer\n}) {\n  _s();\n  const [newLabel, setLabel] = useState(label);\n  const [currentTime, setCurrentTime] = useState('');\n  const [futureTime, setFutureTime] = useState('');\n  const [timerId, setTimerId] = useState('');\n  useEffect(() => {\n    updateTimer(timer);\n    return () => clearInterval(timerId);\n  }, []);\n  function updateTimer(time = futureTime) {\n    console.log('tic-tac', futureTime, time);\n    if (time < 0) {\n      clearInterval(timerId);\n      return;\n    }\n    let min = Math.floor(time / 60);\n    let seconds = time % 60;\n    min = min < 10 ? '0' + min : min;\n    seconds = seconds < 10 ? '0' + seconds : seconds;\n    const res = `${min}:${seconds}`;\n    const resFutureTime = time - 1;\n    setCurrentTime(res);\n    setFutureTime(resFutureTime);\n  }\n  const onEditingChange = e => {\n    setLabel(e.target.value);\n  };\n  const onEditingChangeComplete = e => {\n    if (e.key === 'Enter') {\n      onToggleEditing();\n    }\n  };\n  const timerStart = () => {\n    if (timerId) {\n      return;\n    }\n    setTimerId(setInterval(updateTimer, 1000));\n  };\n  const timerStop = () => {\n    clearInterval(timerId);\n    setTimerId('');\n  };\n  let classNames = '';\n  if (completed) {\n    classNames += 'completed';\n  }\n  if (editing) {\n    classNames += ' editing';\n  }\n  if (!visible) {\n    classNames += ' hidden';\n  }\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    className: classNames,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"view\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: \"toggle\",\n        type: \"checkbox\",\n        onChange: onToggleCompleted,\n        checked: completed\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"title\",\n          onClick: onToggleCompleted,\n          children: newLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"description\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon icon-play\",\n            onClick: timerStart\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"icon icon-pause\",\n            onClick: timerStop\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), currentTime]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"description\",\n          children: `created ${formatDistanceToNow(date, {\n            includeSeconds: true,\n            locale: KG,\n            addSuffix: true\n          })}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"icon icon-edit\",\n        onClick: onToggleEditing\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"icon icon-destroy\",\n        onClick: onDeleted\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"edit\",\n      defaultValue: label,\n      onChange: onEditingChange,\n      onKeyDown: onEditingChangeComplete\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\n_s(Task, \"8j3HmSyqLH6ikPIXPozfYV8UefU=\");\n_c = Task;\nTask.defaultProps = {\n  date: new Date()\n};\nTask.propTypes = {\n  date: PropTypes.instanceOf(Date),\n  completed: PropTypes.bool,\n  editing: PropTypes.bool,\n  label: PropTypes.string,\n  onToggleEditing: PropTypes.func,\n  onToggleCompleted: PropTypes.func,\n  onDeleted: PropTypes.func\n};\nexport default Task;\nvar _c;\n$RefreshReg$(_c, \"Task\");","map":{"version":3,"names":["React","useState","useEffect","formatDistanceToNow","PropTypes","KG","jsxDEV","_jsxDEV","Task","onDeleted","onToggleCompleted","onToggleEditing","completed","editing","date","visible","label","timer","_s","newLabel","setLabel","currentTime","setCurrentTime","futureTime","setFutureTime","timerId","setTimerId","updateTimer","clearInterval","time","console","log","min","Math","floor","seconds","res","resFutureTime","onEditingChange","e","target","value","onEditingChangeComplete","key","timerStart","setInterval","timerStop","classNames","className","children","type","onChange","checked","fileName","_jsxFileName","lineNumber","columnNumber","onClick","includeSeconds","locale","addSuffix","defaultValue","onKeyDown","_c","defaultProps","Date","propTypes","instanceOf","bool","string","func","$RefreshReg$"],"sources":["D:/projects/1.2.12app.github.io/src/component/task/task.js"],"sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { formatDistanceToNow } from 'date-fns'\nimport PropTypes from 'prop-types'\nimport KG from 'date-fns/locale/en-AU'\n\nimport './task.css'\n\nfunction Task({ onDeleted, onToggleCompleted, onToggleEditing, completed, editing, date, visible, label, timer }) {\n  const [newLabel, setLabel] = useState(label)\n  const [currentTime, setCurrentTime] = useState('')\n  const [futureTime, setFutureTime] = useState('')\n  const [timerId, setTimerId] = useState('')\n\n  useEffect(() => {\n    updateTimer(timer)\n    return () => clearInterval(timerId)\n  }, [])\n\n  function updateTimer(time = futureTime) {\n    console.log('tic-tac', futureTime, time)\n    if (time < 0) {\n      clearInterval(timerId)\n      return\n    }\n    let min = Math.floor(time / 60)\n    let seconds = time % 60\n    min = min < 10 ? '0' + min : min\n    seconds = seconds < 10 ? '0' + seconds : seconds\n    const res = `${min}:${seconds}`\n    const resFutureTime = time - 1\n    setCurrentTime(res)\n    setFutureTime(resFutureTime)\n  }\n\n  const onEditingChange = (e) => {\n    setLabel(e.target.value)\n  }\n\n  const onEditingChangeComplete = (e) => {\n    if (e.key === 'Enter') {\n      onToggleEditing()\n    }\n  }\n\n  const timerStart = () => {\n    if (timerId) {\n      return\n    }\n    setTimerId(setInterval(updateTimer, 1000))\n  }\n\n  const timerStop = () => {\n    clearInterval(timerId)\n    setTimerId('')\n  }\n\n  let classNames = ''\n\n  if (completed) {\n    classNames += 'completed'\n  }\n  if (editing) {\n    classNames += ' editing'\n  }\n\n  if (!visible) {\n    classNames += ' hidden'\n  }\n\n  return (\n    <li className={classNames}>\n      <div className=\"view\">\n        <input className=\"toggle\" type=\"checkbox\" onChange={onToggleCompleted} checked={completed} />\n        <label>\n          <span className=\"title\" onClick={onToggleCompleted}>\n            {newLabel}\n          </span>\n          <span className=\"description\">\n            <button className=\"icon icon-play\" onClick={timerStart}></button>\n            <button className=\"icon icon-pause\" onClick={timerStop}></button>\n            {currentTime}\n          </span>\n          <span className=\"description\">\n            {`created ${formatDistanceToNow(date, {\n              includeSeconds: true,\n              locale: KG,\n              addSuffix: true,\n            })}`}\n          </span>\n        </label>\n        <button className=\"icon icon-edit\" onClick={onToggleEditing} />\n        <button className=\"icon icon-destroy\" onClick={onDeleted} />\n      </div>\n      <input\n        type=\"text\"\n        className=\"edit\"\n        defaultValue={label}\n        onChange={onEditingChange}\n        onKeyDown={onEditingChangeComplete}\n      />\n    </li>\n  )\n}\n\nTask.defaultProps = {\n  date: new Date(),\n}\n\nTask.propTypes = {\n  date: PropTypes.instanceOf(Date),\n  completed: PropTypes.bool,\n  editing: PropTypes.bool,\n  label: PropTypes.string,\n  onToggleEditing: PropTypes.func,\n  onToggleCompleted: PropTypes.func,\n  onDeleted: PropTypes.func,\n}\n\nexport default Task\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}